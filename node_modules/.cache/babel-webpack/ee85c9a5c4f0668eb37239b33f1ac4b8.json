{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet ActorComponent = class ActorComponent {\n  constructor(dbService) {\n    this.dbService = dbService;\n    this.actorsDB = [];\n    this.moviesDB = [];\n    this.section = 1;\n    this.fullName = \"\";\n    this.bYear = 0;\n    this.actorId = \"\";\n    this.Movietitle = \"\";\n    this.Movieyear = 0;\n  } //Get all Actors\n\n\n  onGetActors() {\n    this.dbService.getActors().subscribe(data => {\n      this.actorsDB = data;\n    });\n  }\n\n  onGetMovies() {\n    this.dbService.getMovies().subscribe(data => {\n      this.moviesDB = data;\n    });\n  } //Create a new Actor, POST request\n\n\n  onSaveActor() {\n    let obj = {\n      name: this.fullName,\n      bYear: this.bYear\n    };\n    this.dbService.createActor(obj).subscribe(result => {\n      this.onGetActors();\n    });\n  } // Update an Actor\n\n\n  onSelectUpdate(item) {\n    this.fullName = item.name;\n    this.bYear = item.bYear;\n    this.actorId = item._id;\n  }\n\n  onUpdateActor() {\n    let obj = {\n      name: this.fullName,\n      bYear: this.bYear\n    };\n    this.dbService.updateActor(this.actorId, obj).subscribe(result => {\n      this.onGetActors();\n    });\n  } //Delete Actor\n\n\n  onDeleteActor(item) {\n    this.dbService.deleteActor(item._id).subscribe(result => {\n      this.onGetActors();\n    });\n  }\n\n  onDeleteMovie(title) {\n    this.dbService.deleteMovie(title).subscribe(result => {\n      this.onGetMovies();\n    });\n  }\n\n  onSaveMovie() {\n    let obj = {\n      title: this.Movietitle,\n      year: this.Movieyear\n    };\n    this.dbService.createMovie(obj).subscribe(result => {\n      this.onGetMovies();\n    });\n  } // This lifecycle callback function will be invoked with the component get initialized by Angular.\n\n\n  ngOnInit() {\n    this.onGetActors();\n  }\n\n  changeSection(sectionId) {\n    this.section = sectionId;\n    this.resetValues();\n  }\n\n  resetValues() {\n    this.fullName = \"\";\n    this.bYear = 0;\n    this.actorId = \"\";\n    this.Movietitle = \"\";\n    this.Movieyear = 0;\n  }\n\n};\nActorComponent = __decorate([Component({\n  selector: \"app-actor\",\n  templateUrl: \"./actor.component.html\",\n  styleUrls: [\"./actor.component.css\"]\n})], ActorComponent);\nexport { ActorComponent };","map":null,"metadata":{},"sourceType":"module"}